<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moustafa Magdy Loutfy - Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Styles & Color Palette */
        :root {
            --bg-light: #f8fafc; /* slate-50 */
            --bg-dark: #000000; /* True Black */
            --surface-light: #ffffff;
            --surface-dark: #111827; /* gray-900 */
            --text-light: #0f172a; /* slate-900 */
            --text-dark: #e2e8f0; /* slate-200 */
            --text-muted-light: #64748b; /* slate-500 */
            --text-muted-dark: #94a3b8; /* slate-400 */
            --accent: #2dd4bf; /* Teal-400 */
            --accent-hover: #14b8a6; /* Teal-500 */
            --border-light: #e2e8f0; /* slate-200 */
            --border-dark: #334155; /* slate-700 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-light);
        }
        .dark body {
            background-color: var(--bg-dark);
            color: var(--text-dark);
        }
        .bg-surface {
            background-color: var(--surface-light);
        }
        .dark .bg-surface {
            background-color: var(--surface-dark);
        }
        .text-muted {
            color: var(--text-muted-light);
        }
        .dark .text-muted {
            color: var(--text-muted-dark);
        }
        .text-accent {
            color: var(--accent);
        }
        .bg-accent {
            background-color: var(--accent);
        }
        .hover\:bg-accent-hover:hover {
            background-color: var(--accent-hover);
        }
        .border-custom {
            border-color: var(--border-light);
        }
        .dark .border-custom {
            border-color: var(--border-dark);
        }
        .backdrop-blur-custom {
            background-color: rgba(248, 250, 252, 0.7);
            -webkit-backdrop-filter: blur(8px);
            backdrop-filter: blur(8px);
        }
        .dark .backdrop-blur-custom {
            background-color: rgba(0, 0, 0, 0.7);
        }
    </style>
</head>
<body class="transition-colors duration-300">

    <!-- Header & Navigation -->
    <header class="backdrop-blur-custom sticky top-0 z-50 border-b border-custom">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <a href="#" class="text-2xl font-bold text-accent">MML</a>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="#about" class="text-muted hover:text-accent transition">About</a>
                        <a href="#experience" class="text-muted hover:text-accent transition">Experience</a>
                        <a href="#projects" class="text-muted hover:text-accent transition">Projects</a>
                        <a href="#skills" class="text-muted hover:text-accent transition">Skills</a>
                        <a href="#contact" class="text-muted hover:text-accent transition">Contact</a>
                    </div>
                </div>
                <div class="flex items-center">
                    <button id="theme-toggle" class="p-2 rounded-full text-muted hover:bg-slate-200 dark:hover:bg-slate-700 focus:outline-none">
                        <svg id="theme-icon-light" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                        <svg id="theme-icon-dark" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                        </svg>
                    </button>
                    <div class="-mr-2 flex md:hidden ml-2">
                        <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-muted hover:text-accent focus:outline-none">
                            <span class="sr-only">Open main menu</span>
                            <svg id="hamburger-icon" class="h-6 w-6 block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                            <svg id="close-icon" class="h-6 w-6 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <!-- Mobile menu, show/hide based on menu state. -->
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#about" class="text-muted hover:text-accent block px-3 py-2 rounded-md text-base font-medium">About</a>
                    <a href="#experience" class="text-muted hover:text-accent block px-3 py-2 rounded-md text-base font-medium">Experience</a>
                    <a href="#projects" class="text-muted hover:text-accent block px-3 py-2 rounded-md text-base font-medium">Projects</a>
                    <a href="#skills" class="text-muted hover:text-accent block px-3 py-2 rounded-md text-base font-medium">Skills</a>
                    <a href="#contact" class="text-muted hover:text-accent block px-3 py-2 rounded-md text-base font-medium">Contact</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <!-- Hero Section -->
        <section id="home" class="text-center py-20">
            <img src="Images/Untitled design.jpg" 
                 alt="Moustafa Magdy Loutfy" 
                 class="w-40 h-40 md:w-48 md:h-48 rounded-full mx-auto mb-6 shadow-xl border-4 border-white dark:border-slate-800 object-cover">
            <h1 class="text-4xl md:text-6xl font-bold tracking-tight mb-4">Moustafa Magdy Loutfy</h1>
            <h2 class="text-xl md:text-2xl text-accent font-medium mb-8">Communication & Electronics Engineer | IoT & AI Enthusiast</h2>
            <div class="flex justify-center items-center flex-wrap gap-x-4 gap-y-2 text-sm text-muted">
                <span class="flex items-center">
                    <svg class="w-5 h-5 mr-1.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" /></svg>
                    Egypt
                </span>
                <span class="flex items-center">
                    <svg class="w-5 h-5 mr-1.5" fill="currentColor" viewBox="0 0 20 20"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" /><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" /></svg>
                    moustafaloutfy@gmail.com
                </span>
            </div>
            <div class="mt-8 flex justify-center space-x-6">
                <a href="https://linkedin.com/in/mouztafa" target="_blank" class="text-slate-500 hover:text-accent transition">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd"/></svg>
                </a>
                 <a href="mailto:MoustafaMagdy@ieee.org" class="text-slate-500 hover:text-accent transition">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"/></svg>
                </a>
            </div>
        </section>

        <!-- About Me -->
        <section id="about" class="py-16">
            <div class="max-w-3xl mx-auto text-center">
                <h2 class="text-3xl font-bold mb-4">About Me</h2>
                <p class="text-lg text-muted">
                    I am a recent graduate with a B.Sc. in Communication and Electronics Engineering, passionate about building the future through technology. My journey has taken me from maintaining critical biomedical equipment to designing robust cybersecurity networks and developing full-stack AIoT solutions. I thrive on challenges, from developing a comprehensive AIoT graduation project to competing in prestigious hackathons like GDG Delta, Creativa, and NASA Space Apps. With a strong foundation in both hardware and software, I'm eager to contribute my skills in IoT, networking, and AI to an innovative team.
                </p>
            </div>
        </section>

        <!-- Experience -->
        <section id="experience" class="py-16">
            <h2 class="text-3xl font-bold text-center mb-12">Experience & Education</h2>
            <div class="grid grid-cols-1 gap-8">
                <!-- Education Card -->
                <div class="bg-surface p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-2">B.Sc. in Communication and Electronics Engineering</h3>
                    <p class="text-accent font-medium mb-2">Misr Engineering and Technology Institute (MET) — Class of 2025</p>
                    <p class="text-muted">Focused on a comprehensive curriculum covering telecommunications, electronics, networking, and embedded systems, culminating in a large-scale AIoT graduation project.</p>
                </div>
                <!-- Experience Cards -->
                <div class="bg-surface p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-2">Biomedical Technician</h3>
                    <p class="text-accent font-medium mb-2">Ministry of Health — Ongoing</p>
                    <ul class="list-disc list-inside text-muted space-y-1">
                        <li>Perform technical maintenance and setup of biomedical equipment.</li>
                        <li>Coordinate with medical staff for emergency repairs.</li>
                    </ul>
                </div>
                <div class="bg-surface p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-2">Intern</h3>
                    <p class="text-accent font-medium mb-2">WE Mansoura</p>
                    <ul class="list-disc list-inside text-muted space-y-1">
                        <li>Trained in SDH, DWDM, FTTH, and GPON communication systems.</li>
                        <li>Gained hands-on experience in fiber optics and network troubleshooting.</li>
                    </ul>
                </div>
                <div class="bg-surface p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-2">Leadership & Volunteering</h3>
                    <p class="text-accent font-medium mb-2">IEEE MET Student Branch & Competitive Programming</p>
                    <ul class="list-disc list-inside text-muted space-y-2">
                        <li><strong>Head of Assistant and Project Management (Current):</strong> Leading project initiatives and team coordination.</li>
                        <li><strong>Former Head of Multimedia & Business Development:</strong> Managed branding, media creation, and strategic partnerships.</li>
                        <li><strong>Event Organization:</strong>
                            <ul class="list-disc list-inside pl-5 mt-1 space-y-1">
                                <li>Organized "Awareness Bytes," a key career-track event for engineering students.</li>
                                <li>Led the "Empowerment Program," a series of technical courses and an ideation camp in collaboration with Creativa Hub Mansoura.</li>
                            </ul>
                        </li>
                        <li><strong>Strategic Initiatives:</strong> Currently planning the establishment of a new technical IEEE branch focused on embedded systems, web, and cybersecurity.</li>
                        <li><strong>Competitive Programming:</strong> Participated twice in the ACPC, once as a coach, demonstrating strong problem-solving and leadership skills.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Projects -->
        <section id="projects" class="py-16">
            <h2 class="text-3xl font-bold text-center mb-12">Projects & Achievements</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Project Cards will go here, same as before -->
                <div class="bg-surface rounded-lg shadow-lg overflow-hidden">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">AgriMind: Smart Farm (Graduation Project)</h3>
                        <p class="text-muted mb-4">A real-time IoT system with a multi-zone architecture, ESP32 controllers, a Flutter app, Firebase, and CNN models for fruit classification.</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-teal-900 dark:text-teal-300">IoT</span>
                            <span class="bg-emerald-100 text-emerald-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-emerald-900 dark:text-emerald-300">AI</span>
                            <span class="bg-sky-100 text-sky-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-sky-900 dark:text-sky-300">Flutter</span>
                            <span class="bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-amber-900 dark:text-amber-300">Firebase</span>
                        </div>
                    </div>
                </div>
                <div class="bg-surface rounded-lg shadow-lg overflow-hidden">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Hackathon Innovations: REVERIA & Pill Dispenser</h3>
                        <p class="text-muted mb-4">Developed 'REVERIA', AI-powered glasses for Alzheimer's patients (Creativa Hackathon), and a smart pill dispenser (GDG Delta Hackathon).</p>
                        <div class="flex flex-wrap gap-2">
                             <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-purple-900 dark:text-purple-300">Hackathon</span>
                             <span class="bg-emerald-100 text-emerald-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-emerald-900 dark:text-emerald-300">AI</span>
                             <span class="bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-teal-900 dark:text-teal-300">IoT</span>
                             <span class="bg-sky-100 text-sky-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-sky-900 dark:text-sky-300">Mobile App</span>
                        </div>
                    </div>
                </div>
                <div class="bg-surface rounded-lg shadow-lg overflow-hidden">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">ECOPath App (NASA Space Apps)</h3>
                        <p class="text-muted mb-4">Developed for the NASA Space Apps Cairo hackathon, the world's largest local event, to teach SDGs to high schoolers.</p>
                        <div class="flex flex-wrap gap-2">
                             <span class="bg-sky-100 text-sky-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-sky-900 dark:text-sky-300">Mobile App</span>
                             <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-purple-900 dark:text-purple-300">Hackathon</span>
                        </div>
                    </div>
                </div>
                <div class="bg-surface rounded-lg shadow-lg overflow-hidden">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">LPF IC Design with Cadence</h3>
                        <p class="text-muted mb-4">Designed a Low-Pass Filter integrated circuit using 128µm technology with the Cadence software suite, demonstrating skills in analog electronics.</p>
                         <div class="flex flex-wrap gap-2">
                            <span class="bg-slate-100 text-slate-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-slate-700 dark:text-slate-300">IC Design</span>
                            <span class="bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-red-900 dark:text-red-300">Cadence</span>
                            <span class="bg-cyan-100 text-cyan-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-cyan-900 dark:text-cyan-300">Electronics</span>
                        </div>
                    </div>
                </div>
                <div class="bg-surface rounded-lg shadow-lg overflow-hidden">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">SAP-1 Computer Architecture</h3>
                        <p class="text-muted mb-4">Designed and simulated a functional SAP-1 (Simple-As-Possible) computer architecture using Logisim to showcase digital logic design skills.</p>
                         <div class="flex flex-wrap gap-2">
                            <span class="bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-amber-900 dark:text-amber-300">Logisim</span>
                            <span class="bg-slate-100 text-slate-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-slate-700 dark:text-slate-300">Digital Design</span>
                        </div>
                    </div>
                </div>
                <div class="bg-surface rounded-lg shadow-lg overflow-hidden">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Python Data Scraping</h3>
                        <p class="text-muted mb-4">Developed and deployed Python scripts to efficiently scrape, process, and structure data from various web sources for analysis.</p>
                         <div class="flex flex-wrap gap-2">
                            <span class="bg-lime-100 text-lime-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-lime-900 dark:text-lime-300">Python</span>
                            <span class="bg-fuchsia-100 text-fuchsia-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-fuchsia-900 dark:text-fuchsia-300">Data Scraping</span>
                        </div>
                    </div>
                </div>
                <div class="bg-surface rounded-lg shadow-lg overflow-hidden">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Anti-Theft System</h3>
                        <p class="text-muted mb-4">A smart alert system designed with electronic components and sensors to detect and deter unauthorized access in various environments.</p>
                         <div class="flex flex-wrap gap-2">
                            <span class="bg-rose-100 text-rose-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-rose-900 dark:text-rose-300">Security</span>
                            <span class="bg-cyan-100 text-cyan-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-cyan-900 dark:text-cyan-300">Electronics</span>
                            <span class="bg-slate-100 text-slate-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-slate-700 dark:text-slate-300">Sensors</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills & Certifications -->
        <section id="skills" class="py-16">
            <div class="text-center">
                <h2 class="text-3xl font-bold mb-12">Technical Skills & Certifications</h2>
            </div>
            <div class="grid md:grid-cols-2 gap-12">
                <!-- Skills -->
                <div>
                    <h3 class="text-2xl font-semibold mb-6 text-center md:text-left">Skills</h3>
                    <div class="space-y-6">
                        <div>
                            <h4 class="font-bold text-lg mb-2">Programming</h4>
                            <p class="text-muted">Python, C++, C#, MATLAB</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg mb-2">Networking & Cybersecurity</h4>
                            <p class="text-muted">VLANs, Routing & Switching, Firewalls, IDS/IPS, DMZ, Honeypots</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg mb-2">Tools & Platforms</h4>
                            <p class="text-muted">Cisco Packet Tracer, Proteus, VS Code, Logisim, Cadence, Firebase, Flutter, Arduino, ESP32</p>
                        </div>
                         <div>
                            <h4 class="font-bold text-lg mb-2">Creative & Soft Skills</h4>
                            <p class="text-muted">Graphic Design, Photography, Videography, Project Ideation, Leadership, Guitar & Piano</p>
                        </div>
                    </div>
                </div>
                <!-- Certifications -->
                <div>
                    <h3 class="text-2xl font-semibold mb-6 text-center md:text-left">Certifications</h3>
                    <div class="space-y-4">
                        <div class="flex items-center bg-surface p-4 rounded-lg shadow-md">
                            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-sky-100 dark:bg-sky-900 flex items-center justify-center">
                                <span class="text-sky-600 dark:text-sky-300 font-bold">C</span>
                            </div>
                            <p class="ml-4 font-medium">CCNA – Cisco</p>
                        </div>
                         <div class="flex items-center bg-surface p-4 rounded-lg shadow-md">
                            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-sky-100 dark:bg-sky-900 flex items-center justify-center">
                                <span class="text-sky-600 dark:text-sky-300 font-bold">C</span>
                            </div>
                            <p class="ml-4 font-medium">CyberOps Associate – Cisco</p>
                        </div>
                        <div class="flex items-center bg-surface p-4 rounded-lg shadow-md">
                            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center">
                                <span class="text-blue-600 dark:text-blue-300 font-bold">W</span>
                            </div>
                            <p class="ml-4 font-medium">Communication Systems Diploma – WE</p>
                        </div>
                        <div class="flex items-center bg-surface p-4 rounded-lg shadow-md">
                            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center">
                                <span class="text-emerald-600 dark:text-emerald-300 font-bold">N</span>
                            </div>
                            <p class="ml-4 font-medium">Graphic Design & Web Design – NTI</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact -->
        <section id="contact" class="py-20 text-center">
             <h2 class="text-3xl font-bold mb-4">Get In Touch</h2>
             <p class="max-w-2xl mx-auto text-lg text-muted mb-8">
                 I'm currently seeking opportunities where I can apply my skills in networking, IoT, and software development. If you have a project or a role in mind, or just want to connect, feel free to reach out!
             </p>
             <a href="mailto:moustafaloutfy@gmail.com" class="inline-block bg-accent text-white font-bold py-3 px-8 rounded-lg hover:bg-accent-hover transition duration-300 shadow-lg">
                 Say Hello
             </a>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-surface border-t border-custom">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-muted">
            <p>&copy; 2025 Moustafa Magdy Loutfy. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        // --- Theme switcher logic ---
        const themeToggle = document.getElementById('theme-toggle');
        const lightIcon = document.getElementById('theme-icon-light');
        const darkIcon = document.getElementById('theme-icon-dark');
        const htmlEl = document.documentElement;

        const applyTheme = (theme) => {
            if (theme === 'dark') {
                htmlEl.classList.add('dark');
                lightIcon.classList.remove('hidden');
                darkIcon.classList.add('hidden');
            } else {
                htmlEl.classList.remove('dark');
                lightIcon.classList.add('hidden');
                darkIcon.classList.remove('hidden');
            }
        };

        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        if (savedTheme) {
            applyTheme(savedTheme);
        } else {
            applyTheme(prefersDark ? 'dark' : 'light');
        }

        themeToggle.addEventListener('click', () => {
            const isDark = htmlEl.classList.toggle('dark');
            const newTheme = isDark ? 'dark' : 'light';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        });

        // --- Mobile menu logic ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const hamburgerIcon = document.getElementById('hamburger-icon');
        const closeIcon = document.getElementById('close-icon');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            hamburgerIcon.classList.toggle('hidden');
            closeIcon.classList.toggle('hidden');
        });
        
        // Close mobile menu when a link is clicked
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                hamburgerIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');
            });
        });

    </script>
</body>
</html>

